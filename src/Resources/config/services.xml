<?xml version="1.0" ?>
<container xmlns="http://symfony.com/schema/dic/services"
           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xsi:schemaLocation="http://symfony.com/schema/dic/services http://symfony.com/schema/dic/services/services-1.0.xsd"
>
    <parameters>
        <parameter key="entity_type.content.service">teebb.core.entity_type.content_entity_type</parameter>
        <parameter key="entity_type.taxonomy.service">teebb.core.entity_type.taxonomy_entity_type</parameter>
        <parameter key="entity_type.comment.service">teebb.core.entity_type.comment_entity_type</parameter>
    </parameters>

    <services>
        <service id="teebb.core.orm.doctrine_utils"
                 class="Teebb\CoreBundle\Doctrine\Utils\DoctrineUtils" public="true">
            <argument type="service" id="doctrine"/>
        </service>

        <service id="teebb.core.template.registry" class="Teebb\CoreBundle\Templating\TemplateRegistry"
                 public="true">
            <argument type="collection"/>
            <argument type="collection"/>
            <argument type="collection"/>
            <argument type="collection"/>
        </service>

        <service id="teebb.core.twig.trans_markup_extension"
                 class="Teebb\CoreBundle\Twig\Extensions\TranslationMarkupExtension" public="true">
            <argument type="service" id="translator.default"/>
            <tag name="twig.extension"/>
        </service>

        <service id="teebb.core.twig.upload_file_show"
                 class="Teebb\CoreBundle\Twig\Extensions\UploadFileShowExtension" public="true">
            <argument/>
            <argument type="string"/>
            <tag name="twig.extension"/>
        </service>

        <service id="teebb.core.twig.global" class="Teebb\CoreBundle\Twig\GlobalVariables" public="true">
            <argument type="service" id="teebb.core.template.registry"/>
        </service>

        <service id="teebb.core.event.route_parameter_underline_fix_subscriber"
                 class="Teebb\CoreBundle\Subscriber\RouteParameterUnderlineFixSubscriber">
            <argument type="service" id="router.default"/>
            <tag name="kernel.event_subscriber" event="kernel.request"/>
        </service>

        <service id="teebb.core.event.schema_subscriber" class="Teebb\CoreBundle\Subscriber\SchemaSubscriber">
            <argument type="service" id="service_container"/>
            <argument type="service" id="teebb.core.orm.doctrine_utils"/>
            <tag name="kernel.event_subscriber"/>
        </service>

        <service id="teebb.core.field.entity_generator" class="Teebb\CoreBundle\Generator\FieldEntityGenerator">
            <argument type="service" id="maker.generator"/>
            <argument type="service" id="service_container"/>
        </service>

    </services>
</container>
